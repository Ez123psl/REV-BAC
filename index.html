<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Révision Interactif Final</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a202c;
            color: #e2e8f0;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .navbar {
            width: 100%;
            background-color: #2d3748;
            padding: 10px 0;
            display: flex;
            justify-content: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        .nav-button {
            background-color: #4a5568;
            color: #e2e8f0;
            border: none;
            padding: 10px 15px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 15px;
            transition: background-color 0.3s ease;
        }
        .nav-button:hover, .nav-button.active {
            background-color: #63b3ed;
            color: #1a202c;
        }
        .sub-navbar {
            width: 100%;
            background-color: #222a38;
            padding: 8px 0;
            display: none;
            justify-content: center;
            flex-wrap: wrap;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }
        .sub-nav-button {
            background-color: #3b4759;
            color: #cbd5e0;
            border: none;
            padding: 8px 12px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s ease;
        }
        .sub-nav-button:hover, .sub-nav-button.active {
            background-color: #5289b3;
            color: #e2e8f0;
        }
        .quiz-container {
            max-width: 800px;
            width: 90%;
            margin: 20px auto;
            background-color: #2d3748;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            display: none;
        }
        .quiz-container.active {
            display: block;
        }
        #welcome-message {
            text-align: center;
            font-size: 1.2em;
            padding: 30px;
            background-color: #2d3748;
            border-radius: 8px;
            margin: 20px auto;
            max-width: 700px;
        }
        h1 { color: #63b3ed; text-align: center; margin-bottom: 10px; }
        h2.quiz-title { color: #90cdf4; border-bottom: 2px solid #4a5568; padding-bottom: 10px; margin: 0 0 25px; text-align: center; }
        .question-block { margin-bottom: 25px; padding: 15px; background-color: #4a5568; border-radius: 6px; }
        .question-text { margin: 0 0 10px; font-weight: bold; }
        .options label { display: block; margin-bottom: 8px; padding: 10px; background-color: #2c3e50; border-radius: 4px; cursor: pointer; transition: background-color 0.2s; }
        .options label:hover { background-color: #34495e; }
        .options input[type="radio"] { display: none; }
        .options label::before { content: ''; display: inline-block; width: 16px; height: 16px; margin-right: 10px; border: 2px solid #63b3ed; border-radius: 50%; vertical-align: middle; transition: background-color 0.2s; }
        .options input[type="radio"]:checked + label::before { background-color: #63b3ed; }
        .options input[type="radio"]:checked + label { background-color: #2c5282; font-weight: bold; }
        .submit-quiz-button { display: block; width: 200px; margin: 30px auto; padding: 12px 20px; background-color: #63b3ed; color: #1a202c; border: none; border-radius: 5px; font-weight: bold; font-size: 16px; cursor: pointer; transition: background-color 0.3s ease; }
        .submit-quiz-button:hover { background-color: #4299e1; }
        .results-display { text-align: center; font-size: 1.2em; margin-top: 25px; padding: 20px; background-color: #4a5568; border-radius: 6px; }
        .feedback { margin-top: 8px; font-style: italic; font-size: 0.9em; padding: 5px; border-radius: 3px; }
        .correct-answer-feedback { background-color: rgba(104,211,145,0.2); border-left:3px solid #68d391; }
        .incorrect-answer-feedback { background-color: rgba(252,129,129,0.2); border-left:3px solid #fc8181; }
        .correct { color: #68d391; }
        .incorrect { color: #fc8181; }
    </style>
</head>
<body>
    <div class="navbar">
        <button class="nav-button" onclick="showSubNavbar('histoire-subnav')">Histoire 🟥</button>
        <button class="nav-button" onclick="showSubNavbar('geographie-subnav')">Géographie 🟦</button>
        <button class="nav-button" onclick="showSubNavbar('emc-subnav')">EMC 🟨</button>
        <button class="nav-button" onclick="showSubNavbar('francais-subnav')">Français 🟥🟦</button>
        <button class="nav-button" onclick="showSubNavbar('sn-subnav')">Bac Pro SN 🟩</button>
    </div>
    <div id="histoire-subnav" class="sub-navbar">
        <button class="sub-nav-button" onclick="showQuiz('histoire-theme1')">Thème 1: Guerre Froide</button>
        <button class="sub-nav-button" onclick="showQuiz('histoire-theme2')">Thème 2: Décolonisation</button>
    </div>
    <div id="geographie-subnav" class="sub-navbar">
        <button class="sub-nav-button" onclick="showQuiz('geographie-theme1')">Thème 1: Ressources & DD</button>
        <button class="sub-nav-button" onclick="showQuiz('geographie-theme2')">Thème 2: Risques</button>
    </div>
    <div id="emc-subnav" class="sub-navbar">
        <button class="sub-nav-button" onclick="showQuiz('emc-theme1')">Thème: Défis de société & Bioéthique</button>
    </div>
    <div id="francais-subnav" class="sub-navbar">
        <button class="sub-nav-button" onclick="showQuiz('francais-oeuvres')">Œuvres Étudiées</button>
        <button class="sub-nav-button" onclick="showQuiz('francais-figures')">Figures de Style</button>
    </div>
    <div id="sn-subnav" class="sub-navbar">
        <button class="sub-nav-button" onclick="showQuiz('sn-architecture')">Architecture & OS</button>
        <button class="sub-nav-button" onclick="showQuiz('sn-reseau')">Réseaux & IP</button>
        <button class="sub-nav-button" onclick="showQuiz('sn-embarque')">Systèmes embarqués</button>
        <button class="sub-nav-button" onclick="showQuiz('sn-cyber')">Cybersécurité</button>
    </div>

    <div id="welcome-message">
        <h1>Quiz de Révision Interactif</h1>
        <p>Bienvenue ! Choisissez une matière puis un thème pour commencer.</p>
    </div>

    <div id="quiz-content-area">
        <div id="histoire-theme1-quiz" class="quiz-container"></div>
        <div id="histoire-theme2-quiz" class="quiz-container"></div>
        <div id="geographie-theme1-quiz" class="quiz-container"></div>
        <div id="geographie-theme2-quiz" class="quiz-container"></div>
        <div id="emc-theme1-quiz" class="quiz-container"></div>
        <div id="francais-oeuvres-quiz" class="quiz-container"></div>
        <div id="francais-figures-quiz" class="quiz-container"></div>
        <div id="sn-architecture-quiz" class="quiz-container"></div>
        <div id="sn-reseau-quiz" class="quiz-container"></div>
        <div id="sn-embarque-quiz" class="quiz-container"></div>
        <div id="sn-cyber-quiz" class="quiz-container"></div>
    </div>

    <script>
        const quizData = {
            // Histoire
            'histoire-theme1': {
                title: "Histoire - Thème 1: La Guerre froide (1947-1991)",
                questions: [
                    { q: "En quelle année commence la guerre froide ?", o: ["1945","1947","1949","1950"], a:"b" },
                    { q: "Quelles doctrines s’opposent en 1947 ?", o:["Doctrine Monroe/Brejnev","Plan Marshall/Kominform","Doctrine Truman/Jdanov","Endiguement/Coexistence"], a:"c" },
                    { q: "Qui mentionne « rideau de fer » en 1946 ?", o:["Staline","Roosevelt","Churchill","De Gaulle"], a:"c" },
                    { q: "Pays occupant l’Allemagne en 1945 ?", o:["USA/URSS/Chine","France/UK/USA/URSS","Italie/Japon","USA seuls"], a:"b" },
                    { q: "Année de division de l’Allemagne ?", o:["1947","1948","1949","1951"], a:"c" },
                    { q: "Noms complets RFA & RDA ?", o:["Rép. Fédérale Allemande/Rép. Dém. Autrichienne","Rép. Fédérale d'Allemagne/Rép. Dém. Allemande","Reich Allemand/RDA","Allemagne de l'Ouest/Est"], a:"b" },
                    { q: "Crise 1948-49 ?", o:["Cuba","Mur de Berlin","Blocus de Berlin","Corée"], a:"c" },
                    { q: "Guerre en Asie en 1950 ?", o:["Vietnam","Indochine","Corée","Afghanistan"], a:"c" },
                    { q: "Événement nucléaire de 1962 ?", o:["Hiroshima","Tchernobyl","Crise des missiles de Cuba","Essai soviétique"], a:"c" },
                    { q: "Moyens en guerre froide ?", o:["Batailles directes","Propagande/armement/espace","Aide humanitaire","Cyberattaques"], a:"b" },
                    { q: "Symbole du mur de Berlin ?", o:["Paix mondiale","Division Est/Ouest","Progrès technique","Fin URSS"], a:"b" },
                    { q: "Chute du mur de Berlin ?", o:["1987","1989","1991","1993"], a:"b" },
                    { q: "Disparition de l’URSS ?", o:["1989","1990","1991","1992"], a:"c" },
                    { q: "Organisation de 1945 ?", o:["OTAN","ONU","UE","Pacte de Varsovie"], a:"b" },
                    { q: "Définition « guerre froide » ?", o:["Guerre polaire","Affrontements indirects","Guerre informatique","Conflit médiéval"], a:"b" }
                ]
            },
            'histoire-theme2': {
                title: "Histoire - Thème 2: Décolonisation et Tiers-Monde",
                questions: [
                    { q: "Indépendance de l'Inde en 1947 contre ?", o:["France","Portugal","Royaume-Uni","Espagne"], a:"c" },
                    { q: "Pays créé en 1947 avec l'Inde ?", o:["Bangladesh","Pakistan","Sri Lanka","Népal"], a:"b" },
                    { q: "Conférence des non-alignés (1955) ?", o:["Yalta","Bandung","Potsdam","Alger"], a:"b" },
                    { q: "Indépendance algérienne ?", o:["1954","1958","1962","1965"], a:"c" },
                    { q: "Guerre France vs Indochine ?", o:["1939-45","1946-54","1954-62","1965-73"], a:"b" },
                    { q: "Mouvement des pays pauvres ?", o:["Tiers-Monde","Non-alignés","G20","OPEP"], a:"a" },
                    { q: "Symbole de l'apartheid ?", o:["Angola","Afrique du Sud","Rhodésie","Kenya"], a:"b" },
                    { q: "Pays non-alignés GF ?", o:["Neutres","Pro-USA","Pro-URSS","Anciennes colonies"], a:"a" },
                    { q: "Organisation pour l’autodétermination ?", o:["OTAN","ONU","UE","Croix-Rouge"], a:"b" },
                    { q: "Puissance en guerres de décolonisation ?", o:["UK","France","Espagne","Portugal"], a:"b" },
                    { q: "Accords fin guerre d'Algérie ?", o:["Genève","Évian","Versailles","Oslo"], a:"b" },
                    { q: "Dates guerre d'Algérie ?", o:["1945-50","1954-62","1962-67","1970-75"], a:"b" },
                    { q: "Rôle Tiers-Monde GF ?", o:["Médiateur","Terrain d'influence","Fournisseur d'armes","Isolé"], a:"b" },
                    { q: "Héritages colonisation ?", o:["Démocratie stable","Inégalités/dépendances","Développement rapide","Unité culturelle"], a:"b" },
                    { q: "Accès à l'indépendance ?", o:["Sport/diplomatie","Négociation/guerre","Cyberattaques","Boycott culturel"], a:"b" }
                ]
            },
            // Géographie
            'geographie-theme1': {
                title: "Géographie - Thème 1: Ressources et Développement Durable",
                questions: [
                    { q: "Qu'est-ce qu'une ressource ?", o:["Produit manufacturé","Service économique","Élément naturel","Technologie"], a:"c" },
                    { q: "Eau pour l'agriculture ?", o:["30%","50%","70%","90%"], a:"c" },
                    { q: "Ressource mal répartie ?", o:["Pétrole","Charbon","Eau","Gaz"], a:"c" },
                    { q: "Fleuve tension entre 7 États ?", o:["Nil","Amazonie","Colorado","Yangzi"], a:"c" },
                    { q: "Agriculture durable ?", o:["Intensive","Monoculture","Agroécologie","Hydroponie"], a:"c" },
                    { q: "Sécurité alimentaire ?", o:["Exporter","Réduire coûts","Accès équitable","Développer OGM"], a:"c" },
                    { q: "Phénomène aggravant la faim ?", o:["Déflation","Réchauffement","Surpopulation","Pandémies"], a:"b" },
                    { q: "Virus lien santé-environnement ?", o:["Ebola","VIH","Covid-19","Grippe espagnole"], a:"c" },
                    { q: "Plantes économes en eau ?", o:["Cactus","Tropicales","Peu gourmandes","Céréales"], a:"c" },
                    { q: "Aménagement anti-évaporation ?", o:["Barrages","Canaux couverts","Pivots","Serres"], a:"b" },
                    { q: "Politique anti-gaspillage ?", o:["Subventions","Interdiction export","Redistribution","Taxes"], a:"c" },
                    { q: "Pratique sans pesticides ?", o:["OGM","Agroécologie","Labour","Robotique"], a:"b" },
                    { q: "Parc gestion durable ?", o:["Yellowstone","Calanques","Serengeti","Banff"], a:"b" },
                    { q: "Déf. développement durable ?", o:["Croissance rapide","Exploitation max","Répondre besoins","Protection seule"], a:"c" },
                    { q: "3 piliers DD ?", o:["Politique/Eco/Social","Techno/Culturel/Enviro","Éco/Social/Enviro","Indu/Agri/Urbain"], a:"c" }
                ]
            },
            'geographie-theme2': {
                title: "Géographie - Thème 2: Les Sociétés face aux risques",
                questions: [
                    { q: "Qu'est-ce qu'un aléa ?", o:["Conséquence","Phénomène dangereux","Prévention","Résultat"], a:"b" },
                    { q: "Qu'est-ce qu'un enjeu ?", o:["Cause","Élément menacé","Solution","Analyse"], a:"b" },
                    { q: "Risque = ?", o:["Aléa+Enjeux","Aléa-Vulnérabilité","Enjeux×Coûts","Aléa÷Prévention"], a:"a" },
                    { q: "Vulnérabilité ?", o:["Résistance","Fragilité","Adaptation","Ressources"], a:"b" },
                    { q: "Ex. risque naturel ?", o:["Usine","Séisme","Marée noire","Cyberattaque"], a:"b" },
                    { q: "Ex. technologique ?", o:["Ouragan","Glissement","Lubrizol","Épidémie"], a:"c" },
                    { q: "Risque systémique ?", o:["Local","En chaîne","Calculé","Théorique"], a:"b" },
                    { q: "Ex. systémique ?", o:["Inondation","Séisme→Tsunami→Nucléaire","Sécheresse","Feu de forêt"], a:"b" },
                    { q: "Pays pauvres + vulnérables ?", o:["Climat","Moyens","Aléas","Pop."], a:"b" },
                    { q: "Plan secours FR ?", o:["Vigipirate","ORSEC","Neptune","Éclipse"], a:"b" },
                    { q: "PPMS ?", o:["Management stocks","Mise en Sûreté","Maladies","Protection milieux"], a:"b" },
                    { q: "Alerte danger ?", o:["Radioactivité","Sirènes","Météo","Sondages"], a:"b" },
                    { q: "Aménagement inondations ?", o:["Éoliennes","Diguettes","Panneaux","Tunnels"], a:"b" },
                    { q: "Acteurs risques ?", o:["États","Citoyens","ONG","Tous"], a:"d" },
                    { q: "3 axes gestion ?", o:["Prévention/Répression/Reconstruction","Prévision/Adaptation/Répression","Prévention/Adaptation/Gestion de crise","Analyse/Intervention/Com"], a:"c" }
                ]
            },
            // EMC
            'emc-theme1': {
                title: "EMC - Défis de société & Bioéthique",
                questions: [
                    { q: "Année COP21 ?", o:["2012","2015","2018","2020"], a:"b" },
                    { q: "Objectif Accord 2015 ?", o:["Terrorisme","Réduire GES","Promouvoir nucléaire","Dév. OGM"], a:"b" },
                    { q: "COP = ?", o:["COP21","G7","ONU Env.","Davos"], a:"a" },
                    { q: "PMA signifie ?", o:["Protection Méd. Animale","Procréation Méd. Assistée","Programme Mondial Aliment","Maintien Ordre"], a:"b" },
                    { q: "PMA ouverte en FR en ?", o:["2010","2015","2020","Jamais"], a:"c" },
                    { q: "GPA signifie ?", o:["Gestion Publique Agri","Gestation Pour Autrui","Protect. Animale","Prix Annuel"], a:"b" },
                    { q: "GPA autorisée en FR ?", o:["Oui sous cond.","Non interdite","Hétéros","À l'étranger"], a:"b" },
                    { q: "Dégâts Batsirai à Mayotte ?", o:["Aucun","Matériel","Humains+matériel","Économique"], a:"c" },
                    { q: "Territoires précaires + vulnérables ?", o:["Préparation","Aléas","Moyens","Climat"], a:"c" },
                    { q: "Risques climat ?", o:["Cyclones/sècheresses","Tremblements","Volcans","Marées noires"], a:"a" },
                    { q: "Déf. bioéthique ?", o:["Écosystèmes","Modif vivant","Droit animaux","Agri"], a:"b" },
                    { q: "Rôle COPs ?", o:["Pandémies","Commerce","Climat","Tourisme"], a:"c" },
                    { q: "Ex. coopération climatique ?", o:["OTAN","Accords Paris","G20","UNESCO"], a:"b" },
                    { q: "Mvt antinumérique ?", o:["#MeToo","Gilets Jaunes","Détox numérique","Extinction Rebellion"], a:"c" },
                    { q: "Enjeu bioéthique ?", o:["Science","Droits ind./soc.","Éco","Animaux"], a:"b" }
                ]
            },
            // Français
            'francais-oeuvres': {
                title: "Français - Œuvres Étudiées",
                questions: [
                    { q: "Ouvrier aliéné dans Temps modernes ?", o:["Buster Keaton","Charlie Chaplin","Jacques Tati","Louis de Funès"], a:"b" },
                    { q: "Critique Hommes lents ?", o:["Lenteur adm.","Rythme mod. rap.","Pollution","Inégalités"], a:"b" },
                    { q: "Héros de Courir ?", o:["Usain Bolt","Émile Zatopek","Alain Mimoun","Mo Farah"], a:"b" },
                    { q: "Genre de Courir ?", o:["Historique","Biogr. romancée","SF","Théâtre"], a:"b" },
                    { q: "Thème La Vraie vie ?", o:["Amour","Violence fam.","Aventure spatiale","Enquête"], a:"b" },
                    { q: "Narration La Vraie vie ?", o:["3e pers.","Journal intimacy","1e pers.","Témoignage"], a:"c" },
                    { q: "Pourquoi détox numérique ?", o:["Économiser","Vie simple","Éviter virus","Perf."], a:"b" },
                    { q: "Type Parfum des fleurs… ?", o:["Autobiogr.","Roman fantasy","Polar","Essai"], a:"a" },
                    { q: "Lieu Parfum des fleurs… ?", o:["Venise musée","Gare Lyon","BNF","Stade France"], a:"a" },
                    { q: "Départ Tout le bleu du ciel ?", o:["Mariage raté","Diagnostic","Road trip","Perte d'emploi"], a:"c" },
                    { q: "Ton Tout le bleu du ciel ?", o:["Comique","Mélancolique","Horreur","Suspense"], a:"b" },
                    { q: "Œuvre anti-numérique ?", o:["Temps modernes","Good Morning","La Vraie vie","Courir"], a:"b" },
                    { q: "Lien Good Morning & Détox ?", o:["Critique sociale","Numérique","Écologie","Sport"], a:"b" },
                    { q: "Émotion Temps modernes ?", o:["Peur","Colère","Honte","Humour"], a:"d" },
                    { q: "Problématique commune ?", o:["Déshumanisation","Amour courtois","Guerre","Renaissance"], a:"a" }
                ]
            },
            'francais-figures': {
                title: "Français - Figures de Style",
                questions: [
                    { q: "\"Joie violente\" est ?", o:["Oxymore","Métaphore","Hyperbole","Comparaison"], a:"a" },
                    { q: "Machine humanisée ?", o:["Allégorie","Personnification","Métonymie","Litote"], a:"b" },
                    { q: "Répétitions sensorielles ?", o:["Accumulation","Anaphore","Gradation","Parallélisme"], a:"a" },
                    { q: "Image symbole idée ?", o:["Allégorie","Euphémisme","Antithèse","Synecdoque"], a:"a" },
                    { q: "Répétition gestes ?", o:["Anaphore","Climax","Énumération","Hyperbole"], a:"a" },
                    { q: "\"Il courait comme s'il volait\" ?", o:["Métaphore","Comparaison","Allitération","Antiphrase"], a:"b" },
                    { q: "Dire inverse ironie ?", o:["Litote","Antiphrase","Oxymore","Chiasme"], a:"b" },
                    { q: "\"Pas très tendre\" violent ?", o:["Hyperbole","Litote","Métaphore","Comparaison"], a:"b" },
                    { q: "Nature qui écoute ?", o:["Allégorie","Personnification","Métonymie","Synecdoque"], a:"b" },
                    { q: "Mots courts ?", o:["Gradation","Énumération","Anaphore","Parataxe"], a:"b" },
                    { q: "Associer sens ?", o:["Synesthésie","Métaphore","Allitération","Hyperbole"], a:"a" },
                    { q: "\"Le silence hurlait\" ?", o:["Oxymore+Personnif.","Comparaison+Grad.","Litote+Euph.","Métaphore+Allit."], a:"a" },
                    { q: "\"Ce n'était pas rien\" ?", o:["Hyperbole","Litote","Antiphrase","Euphémisme"], a:"b" },
                    { q: "Phrases identiques début ?", o:["Gradation","Anaphore","Parallélisme","Chiasme"], a:"b" },
                    { q: "Objet poétisé ?", o:["Métaphore","Comparaison","Synecdoque","Allégorie"], a:"a" }
                ]
            },
            // Bac Pro SN
            'sn-architecture': {
                title: "Bac Pro SN - Architecture & Systèmes d'exploitation",
                questions: [
                    { q: "Quel composant exécute les instructions ?", o:["RAM","SSD","CPU","GPU"], a:"c" },
                    { q: "Mémoire volatile ?", o:["ROM","EEPROM","RAM","Flash"], a:"c" },
                    { q: "Stockage le plus rapide ?", o:["HDD","CD-ROM","SSD NVMe","Clé USB"], a:"c" },
                    { q: "Rôle du BIOS ?", o:["Lancer Windows","Configurer réseau","Initialiser matériel","Gérer fichiers"], a:"c" },
                    { q: "UEFI signifie ?", o:["Universal EFI","Unified Extensible Firmware Interface","Ultra Easy Firmware Interface","User EFI"], a:"b" },
                    { q: "Interface disque dur ?", o:["USB","PCI","SATA","HDMI"], a:"c" },
                    { q: "Bus capteurs I2C ?", o:["PCI","SATA","USB","I2C"], a:"d" },
                    { q: "OS en ligne de commande ?", o:["Windows","Linux","macOS","Android"], a:"b" },
                    { q: "Commande pour lister ?", o:["cd","ls","rm","ps"], a:"b" },
                    { q: "Mode accès total ?", o:["Utilisateur","Noyau","Safe mode","UEFI mode"], a:"b" }
                ]
            },
            'sn-reseau': {
                title: "Bac Pro SN - Réseaux & IP",
                questions: [
                    { q: "Couches modèle OSI ?", o:["4","5","6","7"], a:"d" },
                    { q: "Couche adressage IP ?", o:["Liaison","Réseau","Transport","Application"], a:"b" },
                    { q: "IP privée exemple ?", o:["192.168.0.1","8.8.8.8","172.0.0.1","255.255.255.0"], a:"a" },
                    { q: "Fichier sécurisé ?", o:["FTP","SCP","SFTP","HTTP"], a:"c" },
                    { q: "Matériel commutation ?", o:["Routeur","Switch","Modem","Firewall"], a:"b" },
                    { q: "Port 443 ?", o:["HTTP","HTTPS","FTP","SSH"], a:"b" },
                    { q: "Norme Wi-Fi récente ?", o:["802.11g","802.11n","802.11ac","802.11ax"], a:"d" },
                    { q: "Masque sous-réseau utilise ?", o:["Ports","Diviser","Sécuriser","VLAN"], a:"b" },
                    { q: "Obtention IP auto ?", o:["DNS","SSH","DHCP","ICMP"], a:"c" },
                    { q: "Résolution nom domaine ?", o:["FTP","DHCP","DNS","ARP"], a:"c" }
                ]
            },
            'sn-embarque': {
                title: "Bac Pro SN - Systèmes embarqués",
                questions: [
                    { q: "Microcontrôleur = ?", o:["Processeur+RAM","Disque dur","Alim","Écran"], a:"a" },
                    { q: "Idéal IoT ?", o:["Arduino","ESP32","Raspberry Pi","Intel i5"], a:"b" },
                    { q: "Broches numériques ?", o:["ADC","PWM","GPIO","I2C"], a:"c" },
                    { q: "Protocole 4 fils rapide ?", o:["UART","SPI","I2C","Wi-Fi"], a:"b" },
                    { q: "Langage Arduino ?", o:["Python","Bash","C/C++","Java"], a:"c" },
                    { q: "Capteur température ?", o:["PIR","DHT11","LDR","L298N"], a:"b" },
                    { q: "Protocol IoT ?", o:["MQTT","FTP","NTP","SMTP"], a:"a" },
                    { q: "Convertisseur augmente tension ?", o:["Buck","Boost","Linear","EEPROM"], a:"b" },
                    { q: "Lire valeur analogique ?", o:["PWM","ADC","DAC","UART"], a:"b" },
                    { q: "IDE Python ESP32 ?", o:["Arduino IDE","PyCharm","Thonny","MicroPython"], a:"d" }
                ]
            },
            'sn-cyber': {
                title: "Bac Pro SN - Cybersécurité",
                questions: [
                    { q: "Logiciel rançonne ?", o:["Spyware","Trojan","Ransomware","Worm"], a:"c" },
                    { q: "Chiffre communications web ?", o:["HTTP","FTP","TLS","ICMP"], a:"c" },
                    { q: "Ex. attaque réseau ?", o:["SQL","DDoS","XSS","Hash"], a:"b" },
                    { q: "Analyse trames ?", o:["Wireshark","Antivirus","Nmap","Traceroute"], a:"a" },
                    { q: "Protocol VPN ?", o:["DNS","IPSec","SMTP","DHCP"], a:"b" },
                    { q: "Détecte intrusion ?", o:["UEFI","RAID","IDS","ACL"], a:"c" },
                    { q: "Mot de passe sécurisé ?", o:["Court","Identique","Long & unique","Nom famille"], a:"c" },
                    { q: "Chiffrement 2 clés ?", o:["Symétrique","Asymétrique","Hash","AES"], a:"b" },
                    { q: "Phishing = ?", o:["Analyse","Simulation","Usurpation d’identité","Réseau privé"], a:"c" },
                    { q: "RGPD signifie ?", o:["Réseau Privé","Règlement Général sur la Protection des Données","Réseau Global Protection","Règle Gestion Protocoles"], a:"b" }
                ]
            }
        };

        // Construction dynamique
        function buildQuizzes() {
            for (const id in quizData) {
                const container = document.getElementById(id + '-quiz');
                let html = `<h2 class="quiz-title">${quizData[id].title}</h2><form id="${id}-form">`;
                quizData[id].questions.forEach((q, i) => {
                    const name = `${id}-q${i+1}`;
                    html += `
                    <div class="question-block">
                        <p class="question-text">${i+1}. ${q.q}</p>
                        <div class="options">
                            <input type="radio" id="${name}-a" name="${name}" value="a"><label for="${name}-a">a) ${q.o[0]}</label>
                            <input type="radio" id="${name}-b" name="${name}" value="b"><label for="${name}-b">b) ${q.o[1]}</label>
                            <input type="radio" id="${name}-c" name="${name}" value="c"><label for="${name}-c">c) ${q.o[2]}</label>
                            ${q.o[3] ? `<input type="radio" id="${name}-d" name="${name}" value="d"><label for="${name}-d">d) ${q.o[3]}</label>` : ''}
                        </div>
                    </div>`;
                });
                html += `<button type="button" class="submit-quiz-button" onclick="submitQuiz('${id}')">Valider le Quiz</button><div id="${id}-results" class="results-display" style="display:none;"></div></form>`;
                container.innerHTML = html;
            }
        }
        document.addEventListener('DOMContentLoaded', buildQuizzes);

        // Affichage sous-nav et quiz
        let currentSubNavbar = null;
        function showSubNavbar(subId) {
            document.querySelectorAll('.sub-navbar').forEach(s => s.style.display = 'none');
            document.querySelectorAll('.nav-button').forEach(b => b.classList.remove('active'));
            document.querySelector(`.nav-button[onclick="showSubNavbar('${subId}')"]`).classList.add('active');
            document.getElementById(subId).style.display = 'flex';
        }
        function showQuiz(id) {
            document.getElementById('welcome-message').style.display = 'none';
            document.querySelectorAll('.quiz-container').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.sub-nav-button').forEach(b => b.classList.remove('active'));
            document.querySelector(`.sub-nav-button[onclick="showQuiz('${id}')"]`).classList.add('active');
            document.getElementById(id + '-quiz').classList.add('active');
        }

        // Validation
        function submitQuiz(id) {
            const form = document.getElementById(id + '-form');
            const results = document.getElementById(id + '-results');
            let score = 0;
            quizData[id].questions.forEach((q, i) => {
                const name = `${id}-q${i+1}`;
                const sel = form.querySelector(`input[name="${name}"]:checked`);
                const ans = sel ? sel.value : null;
                const correct = q.a;
                const text = q.o[correct.charCodeAt(0)-97];
                const block = sel ? sel.parentNode.parentNode : form.querySelector(`input[name="${name}"]`).parentNode.parentNode;
                const fb = document.createElement('p');
                fb.classList.add('feedback');
                if (ans === correct) {
                    score++;
                    fb.innerHTML = '<strong class="correct">Correct !</strong>';
                    fb.classList.add('correct-answer-feedback');
                } else {
                    fb.innerHTML = `<strong class="incorrect">Incorrect.</strong> La bonne réponse : <strong>${correct.toUpperCase()}) ${text}</strong>`;
                    fb.classList.add('incorrect-answer-feedback');
                }
                block.appendChild(fb);
            });
            let msg = `Votre score : ${score} / ${quizData[id].questions.length}.<br>`;
            if (score === quizData[id].questions.length) msg += "Sans faute ! 🎉";
            else if (score >= quizData[id].questions.length*0.7) msg += "Très bon ! 👍";
            else if (score >= quizData[id].questions.length*0.5) msg += "Pas mal. 😊";
            else msg += "À revoir. 💪";
            results.innerHTML = msg;
            results.style.display = 'block';
        }
    </script>
</body>
</html>
